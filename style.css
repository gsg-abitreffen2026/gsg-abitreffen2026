/* ===== Base ===== */
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background-color: #f3f2ef;
  color: #1c1e21;
}
.hidden { display: none !important; }

.container {
  display: flex;
  align-items: flex-start;
  max-width: 1200px;
  margin: 2rem auto 0 auto;
  padding: 20px;
}

/* ===== Hero ===== */
header {
  position: relative;
  height: 30vh;
  margin: 2rem 2rem 0;
  border-radius: 10px;
  overflow: hidden;
}
header img.hero-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center 52%;
  filter: saturate(1.5) contrast(1.25) brightness(1.1);
  transition: filter 0.3s ease;
  display: block;
  position: relative;
  z-index: 0;
}

/* Overlay für bessere Lesbarkeit */
header::after{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(transparent 40%, rgba(0,0,0,.35) 100%);
  z-index:1;
}

/* Hero-Typo und Positionierung (sichtbar über dem Bild) */
header .hero-text{
  position: absolute;
  left: 50%;
  bottom: 10%;
  transform: translateX(-50%);
  text-align: center;
  color: #fff;
  text-shadow: 0 2px 6px rgba(0,0,0,0.5);
  z-index: 2;
  width: 90%;
  max-width: 820px;
  box-sizing: border-box;
  padding: 0 8px;
}
header h1{
  font-size: clamp(1.4rem, 6vw, 3.8rem);
  line-height: 1.2;
  letter-spacing: -0.5px;
  margin: 0.2em 0;
}
header p{
  font-size: clamp(0.9rem, 3.5vw, 1.8rem);
  line-height: 1.3;
  margin: 0.2em 0;
}

/* ===== Sidebar-Nav ===== */
nav {
  flex: 0 0 220px;
  position: sticky;
  top: 0;
  align-self: flex-start;
  z-index: 998;
  margin-top: 0;
  padding-top: 0;
}
nav ul {
  list-style: none;
  padding: 0;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  overflow: hidden;
}
nav li { border-bottom: 1px solid #eee; }
nav a {
  display: block;
  padding: 12px 16px;
  text-decoration: none;
  color: #333;
  transition: background 0.2s;
}
nav a:hover { background-color: #f0f0f0; }
nav i { margin-right: 8px; color: #0073b1; }
nav .share-button {
  background-color: #0073b1 !important;
  color: #fff !important;
  text-align: center;
  font-weight: bold;
}
nav .share-button i { color: #fff !important; }

/* ===== Main / Right Column ===== */
main { flex: 1; margin: 0 20px; }

aside.right-column {
  flex: 0 0 250px;
  position: sticky;
  top: 0;
  align-self: flex-start;
}

#galerie-login-box { margin-top: 20px; }

/* Boxen zentrieren */
.content-box {
  background-color: white;
  padding: 20px;
  margin-bottom: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  width: 100%;
  box-sizing: border-box;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

h2 { margin-top: 0; color: #1c1e21; }
h3 { margin-top: 0; }

/* ===== Forms ===== */
form { padding: 1rem 0; }
form input,
form textarea {
  width: 100%;
  max-width: 500px;
  padding: 10px;
  margin-bottom: 1rem;
  border: 1px solid #ccc;
  border-radius: 5px;
  box-sizing: border-box;
}
form button[type="submit"] {
  display: block;
  width: 100%;
  max-width: 500px;
  margin-top: 0.2rem;
}

/* ===== Buttons (generic) ===== */
.button {
  background-color: #0073b1;
  color: white;
  border: none;
  padding: 10px 16px;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;
}
.button:hover { background-color: #005f90; }

/* ===== Newsletter Hint ===== */
.newsletter-hint {
  font-size: 0.8em;
  font-style: italic;
  color: #666;
  margin-top: -0.5rem;
}

/* ===== Gallery ===== */
.gallery-wrapper { position: relative; text-align: center; }
.gallery-wrapper img {
  width: 100%;
  max-width: 600px;
  height: auto;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}
.gallery-button {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background-color: rgba(0, 0, 0, 0.4);
  border: none;
  color: white;
  padding: 10px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 1.2rem;
}
#prevBtn { left: 10px; }
#nextBtn { right: 10px; }
.gallery-button:hover { background-color: rgba(0, 0, 0, 0.6); }

/* ===== Footer ===== */
footer {
  text-align: center;
  font-size: 0.9em;
  padding: 20px;
  color: #888;
  background: none;
}
footer a {
  color: #0073b1;
  text-decoration: none;
  font-weight: bold;
  font-size: 0.95em;
}
footer p { margin: 0.3em 0; }

/* ===== Kontakt-Klappbox ===== */
.kontakt-collapsible .kontakt-header {
  cursor: pointer;
  user-select: none;
  display: flex;
  align-items: center;
  font-size: 1.35em;
  margin-bottom: 0.2em;
  transition: color 0.2s;
}
.kontakt-collapsible .arrow {
  font-size: 0.5em;
  margin-right: 10px;
  transition: transform 0.26s;
  display: inline-block;
}
.kontakt-collapsible.collapsed .arrow { transform: rotate(0deg); }
.kontakt-collapsible:not(.collapsed) .arrow { transform: rotate(90deg); }
.kontakt-collapsible .kontakt-content {
  max-height: 1000px;
  transition: max-height 0.4s;
  overflow: hidden;
}
.kontakt-collapsible.collapsed .kontakt-content {
  max-height: 0;
  overflow: hidden;
  padding: 0;
}

/* ===== Floating Action Button + Mobile Menu ===== */
.menu-fab {
  position: fixed;
  right: 24px;
  bottom: 32px;
  width: 64px;
  height: 64px;
  background: #0073b1;
  border-radius: 50%;
  box-shadow: 0 6px 36px 0 rgba(0,0,0,0.13);
  z-index: 1100;
  cursor: pointer;
  border: none;
  outline: none;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.25s;
}
.menu-fab:hover { background: #005f90; }

.fab-rotator { position: relative; width: 48px; height: 48px; transition: transform 0.42s cubic-bezier(.4,2,.6,1); }
.menu-fab.open .fab-rotator { transform: rotate(45deg); }

/* X-Shape */
.menu-lines, .menu-lines::after {
  position: absolute;
  background: #fff;
  content: '';
}
.menu-lines { top: 50%; left: 50%; width: 48px; height: 1px; transform: translate(-50%, -50%); }
.menu-lines::after { width: 1px; height: 48px; left: 50%; top: 50%; transform: translate(-50%, -50%); }

/* MENÜ-Buchstaben */
.fab-letter { position: absolute; color: #fff; font-size: 15px; font-weight: 500; transition: transform 0.42s cubic-bezier(.4,2,.6,1); }
.fab-letter.m { top: 3px; left: 6px; }
.fab-letter.e { top: 3px; right: 8px; }
.fab-letter.n { bottom: 3px; right: 7px; }
.fab-letter.u { bottom: 3px; left: 7px; }
.menu-fab.open .fab-letter.m,
.menu-fab.open .fab-letter.e,
.menu-fab.open .fab-letter.n,
.menu-fab.open .fab-letter.u { transform: rotate(-45deg); }

/* Mobile Menu Panel */
.mobile-menu {
  display: none;
  position: fixed;
  bottom: 112px;
  right: 24px;
  background: white;
  border-radius: 16px;
  box-shadow: 0 4px 18px 0 rgba(0,0,0,0.16);
  z-index: 1101;
  min-width: 180px;
  overflow: hidden;
  padding: 0;
  opacity: 0;
  pointer-events: none;
  transform: translateY(18px) scale(0.97);
  transition: opacity 0.3s, transform 0.32s;
}
.mobile-menu.open { display: block; opacity: 1; pointer-events: auto; transform: translateY(0) scale(1); }
.mobile-menu a {
  display: block;
  padding: 14px 24px;
  border-bottom: 1px solid #f0f0f0;
  color: #0073b1;
  text-decoration: none;
  font-weight: bold;
  font-size: 1.09em;
  background: none;
  transition: background 0.16s;
}
.mobile-menu a:last-child { border-bottom: none; }
.mobile-menu a.share-button {
  background: #0073b1;
  color: #fff !important;
  text-align: center;
  border-radius: 0 0 16px 16px;
}
.mobile-menu a:hover { background: #e5eef5; }

/* Desktop-only hide mobile menu/fab */
@media (min-width: 768px) {
  .menu-fab, .mobile-menu { display: none !important; }
}
@media (min-width: 900px) {
  .menu-fab, .mobile-menu { display: none !important; }
}

/* Kleinere Phones – grobes Stacking (Fallback) */
@media (max-width: 700px) {
  .container { flex-direction: column; padding-bottom: 80px; }
  nav { display: none; }
  aside.right-column {
    display: block; position: static; flex: 1 1 100%; margin: 0; padding: 0; width: 100%;
  }
}

/* ===== Mobile Layout: Datum & Ort oben nebeneinander, Countdown unten ===== */
@media (max-width: 768px){
  .container{
    display: grid !important;
    grid-template-columns: 1fr 1fr;
    grid-template-areas:
      "date  place"
      "main  main"
      "count count";
    gap: 12px;
    align-items: start;
  }
  aside.right-column{ display: contents; }
  main{ grid-area: main; }
  .box-date{ grid-area: date; }
  .box-place{ grid-area: place; }
  .box-countdown{ grid-area: count; }

  /* rechte Spalte-Boxen mobil auf volle Breite */
  .right-column .content-box{
    max-width: none !important;
    margin: 0 !important;
    width: 100% !important;
  }

  /* etwas kompakterer Hero auf Mobil */
  header { height: 18vh; margin: 1.2rem 0.5rem 1.2rem; }
}

/* ===== Kalender-Buttons (dezent & kompakt) ===== */
.addcal-row{ display:flex; gap:6px; flex-wrap:wrap; margin-top:6px; }

.right-column .content-box a#icsLink.addcal,
.right-column .content-box a#icsLink.addcal:visited,
.right-column .content-box a#gcalLink.addcal,
.right-column .content-box a#gcalLink.addcal:visited{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 10px; border-radius:8px;
  border:1px solid #d7e3ef; background:transparent;
  color:#0b5e8f; font-size:.85rem; font-weight:400; line-height:1.25;
  text-decoration:none; box-shadow:none; width:auto; cursor:pointer;
}
.right-column .content-box a#icsLink.addcal:hover{ background:#eef6fc; border-color:#c6d8ea; }
.right-column .content-box a#gcalLink.addcal,
.right-column .content-box a#gcalLink.addcal:visited{ border-color:#e5e7eb; color:#374151; }
.right-column .content-box a#gcalLink.addcal:hover{ background:#f3f4f6; border-color:#d1d5db; }

/* Datum leicht hervorheben */
.right-column .content-box h3 + p{
  font-size:1.125rem; font-weight:600; margin-bottom:8px;
}

/* ===== Ort-Links ===== */
/* WICHTIG: Kein Flex mehr, damit <br> nach "Wirtshaus Ratze" wirkt. */
.right-column .content-box .place-line{
  margin:0;
  display:block !important;
  text-align:center;
}
.right-column .content-box .place-link,
.right-column .content-box .place-link:visited{
  font-weight:400; color:#0b5e8f; text-decoration:none; border-bottom:1px dashed #c6d8ea;
}
.right-column .content-box .place-link:hover{ background:#eef6fc; border-bottom-color:#aecdde; }
.right-column .content-box .place-link.secondary,
.right-column .content-box .place-link.secondary:visited{ color:#374151; border-bottom-color:#d1d5db; }
.right-column .content-box .place-link.secondary:hover{ background:#f3f4f6; border-bottom-color:#c4cbd3; }
.right-column .content-box .muted{ color:#6b7280; }
.right-column .content-box .place-link strong{ font-weight:700 !important; }

/* Stecknadel – schräg, Spitze im Bullseye, Kopf rot */
.right-column .content-box .place-link .pin{
  width: 1em; height: 1em; margin-left: 6px; vertical-align: -0.12em;
}
.right-column .content-box .place-link .target-outer{
  fill: none; stroke: #d1d5db; stroke-width: 1.4;
}
.right-column .content-box .place-link .target-inner{
  fill: #ffffff; stroke: #cbd5e1; stroke-width: 1.2;
}
.right-column .content-box .place-link .pin-needle{
  stroke: #6b7280; stroke-width: 1.6; stroke-linecap: round;
}
.right-column .content-box .place-link .pin-head{
  fill: #ef4444; stroke: #b91c1c; stroke-width: 1.1;
}
/* "in Stuttgart‑Ost 📍" immer zusammenhalten */
.right-column .content-box .place-link.secondary{ white-space: nowrap; }

/* === Hauptteil-Boxen wieder linksbündig === */
main .content-box{
  text-align: left !important;
  display: block !important;      /* überschreibt evtl. display:flex */
  align-items: initial !important; /* falls von vorher noch gesetzt */
}

/* === Hero-Überschrift: keine Silbentrennung === */
header h1{
  -webkit-hyphens: none;
  hyphens: none;
  word-break: keep-all;
  overflow-wrap: normal;
}

/* === ORT-Box: Umbruch nach "Wirtshaus Ratze", danach eine Zeile === */
.box-place .place-line{
  display: block !important;       /* <br> greift */
  margin: 0;
}
.box-place .place-after{
  display: inline-flex;            /* "in" + Link bleiben zusammen */
  align-items: baseline;
  gap: 6px;
  white-space: nowrap;
}
.box-place .place-link.secondary{   /* Link + Pin zusammenhalten */
  white-space: nowrap;
}


/* === Datums-Box: Kalender-Links mittig === */
.box-date .addcal-row{
  display: flex !important;      /* sicherstellen, dass es Flex ist */
  flex-wrap: wrap;
  gap: 8px;
  justify-content: center !important;  /* mittig ausrichten */
  width: 100%;                    /* volle Box-Breite, sonst kein echtes Zentrieren */
  align-self: stretch;            /* wenn Parent flex ist */
  margin-top: 10px;               /* kleiner Abstand unter dem Datum */
}

.box-date .addcal-row a{
  display: inline-flex;           /* hübsche Button-Ausrichtung */
  align-items: center;
  justify-content: center;
  text-align: center;
}
/* Weniger seitlicher Innenabstand nur in der rechten Spalte */
aside.right-column .content-box {
  padding-left: 12px;
  padding-right: 12px;
}

/* === Rechte Spalte: fix schmaler & Inhalt zentriert (nur Desktop) === */
@media (min-width: 900px){
  aside.right-column{
    flex: 0 0 220px; /* Spaltenbreite */
  }

  aside.right-column .content-box{
    max-width: 200px;  /* gleiche Breite wie Spalte */
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    text-align: center; /* Inhalte zentrieren */
    display: flex;
    flex-direction: column;
    align-items: center;
  }
}
/* Rechte Spalte: Inhalte immer mittig */
aside.right-column .content-box {
  text-align: center !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
}
/* ===== Mobile Layout aktualisieren: Ort oben rechts, Countdown darunter; Date spannt 2 Zeilen ===== */
@media (max-width: 768px){
  .container{
    display: grid !important;
    grid-template-columns: 1fr 1fr;
    /* Date links über 2 Zeilen, rechts: oben Ort, unten Countdown */
    grid-template-areas:
      "date place"
      "date count"
      "main main";
    gap: 12px;
    align-items: stretch;      /* Elemente in den Zellen strecken */
    grid-auto-rows: 1fr;       /* gleiche Zeilenhöhen für 'place' und 'count' */
  }

  aside.right-column{ display: contents; } /* Boxen als direkte Grid-Items */

  /* Grid-Areas zuweisen und auf volle Zellenhöhe strecken */
  .box-date{ grid-area: date; align-self: stretch; }
  .box-place{ grid-area: place; align-self: stretch; }
  .box-countdown{ grid-area: count; align-self: stretch; }

  /* Inhalt der Boxen darf die Zellenhöhe ausfüllen */
  .right-column .content-box,
  .box-date.content-box{
    height: 100%;
  }
}
